"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[115],{115:function(t,e,n){n.r(e);var r=n(861),o=n(439),u=n(757),c=n.n(u),i=n(791),a=n(87),s=n(689),l=n(184);e.default=function(){var t,e,n=(0,i.useState)([]),u=(0,o.Z)(n,2),f=u[0],h=u[1],d=(0,a.lr)(),v=(0,o.Z)(d,2),p=v[0],m=v[1],y=(0,i.useState)(null!==(t=p.get("query"))&&void 0!==t?t:""),x=(0,o.Z)(y,2),w=x[0],b=x[1],g=(0,s.TH)(),j=null!==(e=p.get("query"))&&void 0!==e?e:"",k=(0,i.useCallback)(function(){var t=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat("https://api.themoviedb.org/3","/search/movie?api_key=").concat("e6dcd31a9bcf35c6ea88f864789b7c2f","&query=").concat(e));case 3:return n=t.sent,t.next=6,n.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:throw t.prev=10,t.t0=t.catch(0),console.log("Error searching movies:",t.t0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),[]);(0,i.useEffect)((function(){j&&k(j).then((function(t){if(!t.total_results)return alert("Sorry we dont found ".concat(j));h(t.results)})).catch((function(t){return console.log(t)}))}),[j,k]);return(0,l.jsxs)("div",{children:[(0,l.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),""===w)return alert("Sorry, but we dont can find empty string, you shoud write something");m({query:w})},children:[(0,l.jsx)("input",{type:"text",value:w,onChange:function(t){b(t.target.value)}}),(0,l.jsx)("button",{type:"submit",children:"Search"})]}),(0,l.jsx)("ul",{children:f.map((function(t){var e=t.original_title,n=t.id;return(0,l.jsx)("div",{children:(0,l.jsx)("li",{children:(0,l.jsx)(a.rU,{to:"/movies/".concat(n),state:{from:g},children:e})},n)})}))})]})}},861:function(t,e,n){function r(t,e,n,r,o,u,c){try{var i=t[u](c),a=i.value}catch(s){return void n(s)}i.done?e(a):Promise.resolve(a).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,u){var c=t.apply(e,n);function i(t){r(c,o,u,i,a,"next",t)}function a(t){r(c,o,u,i,a,"throw",t)}i(void 0)}))}}n.d(e,{Z:function(){return o}})}}]);
//# sourceMappingURL=115.13027120.chunk.js.map